{"version":3,"sources":["assets/x.svg","assets/2728_color.svg","assets/logo.svg","fonts/keyrune.ttf","firebase.js","UserForm.js","Card.js","ErrorMessage.js","ListInfo.js","ConfirmatioButton.js","List.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","LoginForm","attemptAction","event","preventDefault","state","input","test","props","showError","callback","handleUserInput","setState","target","value","this","onSubmit","className","htmlFor","type","id","onChange","src","x","alt","disabled","allowAction","action","children","React","Component","Card","getColorIdentity","colors","identity","includes","getPrice","prices","result","undefined","usd","push","capitalizeWord","word","substring","toUpperCase","length","expandDescription","card","bought","name","quantity","rarity","sets","latestSet","imgUrl","hasFoil","onClick","checkOff","toLowerCase","aria-label","sparkle","map","item","key","set","cardSets","ErrorMessage","hideError","setTimeout","onEnd","timeoutId","errorText","ListInfo","getTotals","info","cards","tPrice","tQuantity","forEach","parseFloat","parseInt","text","number","toLocaleString","index","ConfirmationButton","toggleIsConfirming","isConfirming","confirmAction","confirmationMessage","List","focusOnCardInput","textInput","current","focus","queryNewCard","newCard","gettingCardDetails","axios","method","url","dataResponse","params","fuzzy","timeout","then","data","prints_search_uri","arrayOfSets","printings","newCardQuantity","color_identity","foil","image_uris","small","lastPriceCheck","Date","toDateString","addNewCard","catch","error","handleError","queryCardSuggestions","q","limitedSuggestions","slice","possibleCards","takeCardSuggestion","suggestion","response","showTheUserAnError","details","request","console","log","message","messageToShow","showApiError","errorMessage","userCardsRef","database","ref","account","once","newCardArray","val","updateCardToBought","cardsRef","child","currentData","update","queryCardPrices","updatingPrices","priceUpdates","todaysDate","exact","myPromise","Promise","fulfill","reject","all","spread","results","updateCardPrices","newCardData","newPrice","removeBoughtCards","filteredCards","filter","removeAllCards","toggleIsShowingNewCardForm","isShowingNewCardForm","toggleIsShowingListInfo","isShowingListInfo","createRef","on","cardArray","username","logoutCallback","e","pCard","style","top","min","max","localFirebaseRef","localUsernameRef","App","attemptLogin","usernameToLoginWith","talkingToFirebase","db","userbase","userHasLoggedIn","loginError","userReference","loggedInUsername","userRef","userIsLoggedIn","localStorage","setItem","usernameThatFailed","attemptSignup","usernameToSignupWith","signupError","signUserUp","takenUsername","newUser","logUserOut","removeItem","swapIsSigningUp","isSigningUp","localUserRef","getItem","localUsername","logo","UserForm","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b6816e4c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/x.feabe299.svg\";","module.exports = __webpack_public_path__ + \"static/media/2728_color.d7d1ddfc.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.c75381dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/keyrune.77551c95.ttf\";","import firebase from 'firebase/app';\nimport 'firebase/database';\n\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBVaqoPIZyr-D_QY1-HFaa64dUt7F6bnfQ\",\n  authDomain: \"miko-sramek-project-five.firebaseapp.com\",\n  databaseURL: \"https://miko-sramek-project-five.firebaseio.com\",\n  projectId: \"miko-sramek-project-five\",\n  storageBucket: \"miko-sramek-project-five.appspot.com\",\n  messagingSenderId: \"945213463136\",\n  appId: \"1:945213463136:web:9ac00d9dafc605b7a30105\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\n\nexport default firebase;","import React from 'react';\n\n\nimport x from './assets/x.svg';\n\nclass LoginForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      input: '',\n      showError: false\n    }\n  }\n  componentDidMount() {\n    this.setState({\n      input: ''\n    });\n  }\n  \n  attemptAction = (event) => {\n    event.preventDefault();\n    const regex = / /mg;\n    if(this.state.input !== '' && !regex.test(this.state.input)) {\n      this.props.callback(this.state.input);\n    }else {\n      //SCREAM AT USER\n      if(this.state.input === '') {\n        this.props.showError(\"Please enter a username!\");\n      }else{\n        this.props.showError(\"No spaces please!\");\n      }\n    }\n  }\n\n  handleUserInput = (event) => {\n    this.setState({\n      input: event.target.value\n    });\n  }\n\n  render() {\n    return(\n      <div>\n        <form onSubmit={this.attemptAction} className=\"userForm\">\n          \n          \n          <label htmlFor=\"username\">Username</label>\n          <input type=\"text\" id=\"username\" value={this.state.input} onChange={this.handleUserInput}/>\n          {/* After element boss */}\n          <span></span>\n          \n          \n          <img src={x} alt=\"An x indicating where to put your username.\" />\n          <button disabled={this.props.allowAction}>{this.props.action}</button>\n          <span className=\"formDivider\"></span>\n          {\n            this.props.children\n          }\n        </form>\n      </div>\n    );\n  }\n};\n\nexport default LoginForm;","import React from 'react';\n\nimport cardSets from './assets/sets.json';\nimport sparkle from './assets/2728_color.svg';\n\n\nclass Card extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      expandDescription: false\n    }\n  }\n  componentDidMount() {\n    \n  }\n\n  getColorIdentity = (colors) => {\n    let identity = '';\n    //A brute force thing to make sure the colour identity is in WUBRG order. (It's an MTG thing)\n    if(colors.includes('W')){\n      identity += 'W';\n    }\n    if(colors.includes('U')){\n      identity += 'U';\n    }\n    if(colors.includes('B')){\n      identity += 'B';\n    }\n    if(colors.includes('R')){\n      identity += 'R';\n    }\n    if(colors.includes('G')){\n      identity += 'G';\n    }\n    if(identity === ''){\n      identity += 'Colorless'\n    }\n    return identity;\n  }\n\n  getPrice = (prices) => {\n    const result = [];\n    if(prices.usd !== undefined){\n      result.push(\"$\"+prices.usd+\" USD\");\n    } else {\n      result.push(\"No price info found.\");\n    }\n    return result;\n  }\n  capitalizeWord = (word) => {\n    let newWord = word.substring(0,1).toUpperCase() + word.substring(1, word.length);\n    // console.log(newWord);\n    return newWord;\n  }\n\n  render() {\n    // this.capitalizeWord('hello');\n    const { bought, name, quantity, identity, rarity, sets, latestSet, prices, imgUrl, hasFoil } = this.props.card;\n    // console.log(prices);\n    return(\n      <li>\n        <div className=\"cardHeader\">\n        \t<span \n        \t  onClick={this.props.checkOff}\n        \t  className = {`${bought ? 'bought' : ''} cardName`}\n        \t>\n        \t  <button>{bought ? <i className='far fa-check-square'></i> : <i className='far fa-square'></i>}</button> {quantity}x {name}\n            <i className={`ss ss-${latestSet.toLowerCase()} ss-${rarity.toLowerCase()}`}></i>\n        \t</ span>\n          \n        \t<button className=\"showDescriptionButton\" onClick={() => this.setState({expandDescription: !this.state.expandDescription})}>\n        \t  <i className={`fas fa-chevron-${this.state.expandDescription ? 'up' : 'down'}`} aria-label={`Expand the description for ${name}`}></i>   \n        \t</ button>\n\n        </div>\n        <div className={`cardBody ${this.state.expandDescription ? 'show' : 'hide'}`}>\n          { \n            hasFoil\n              ? <div className=\"foilMark\"><img src={sparkle} alt=\"This card has a foil version available.\"/></div>\n              : null\n          }\n          \n         \n          <div className=\"cardDetails\">\n            <div className=\"cardImage\">\n              <img src={imgUrl} alt={`The card for ${name}`}/>\n            </div>\n            <div className=\"cardText\">\n              <p>\n                {\n                  this.getColorIdentity(identity)\n                }\n              </p>\n              <p>{this.capitalizeWord(rarity)}</p>\n              {\n                this.getPrice(prices).map((item) => {\n                  return <p key={item}>{item}</p>\n                })\n              }\n            </div>\n          </div>\n          {\n            sets.map( (set) => {\n              // return  <i key={name+set} className={`ss ss-${set.toLowerCase()} ss-${rarity.toLowerCase()}`}></i> \n              return (\n              (cardSets[set.toUpperCase()] !== undefined)\n                ? <p key={name+set}><i className={`ss ss-${set} ss-${rarity}`}></i> {cardSets[set.toUpperCase()]}</p>\n                : null  \n              )\n            })\n          }\n\n        </div>\n      </li>\n    );\n  }\n};\n\nexport default Card;","import React from 'react';\n\n\nclass ErrorMessage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      showError: true,\n      timeoutId: ''\n    }\n  }\n  componentDidMount() {\n    setTimeout(this.hideError, 1200);\n  }\n  hideError = () => {\n    this.setState({\n      showError: false\n    });\n    setTimeout(this.props.onEnd, 340);\n  }\n  render() {\n    return(\n      <div className={this.state.showError ? \"userWarning\" : \"userWarning userWarningHidden\"}>\n        <p>{this.props.errorText}</p>\n      </div>\n    );\n  }\n};\n\nexport default ErrorMessage;","import React from 'react';\n\n\n//Get array of cards from List.js\n  //An array passed down from props\n//Go through every card\n  //forEach\n    //total quantity\n    //prices\n    //unique sets?\n  //put these into state\n//Collect the information, and put it in state\n//Display the information\n\nclass ListInfo extends React.Component {\n  getTotals = () => {\n    const info = [];\n    if(this.props.cards !== undefined){\n      let tPrice = 0;\n      let tQuantity = 0;\n      this.props.cards.forEach((card) => {\n        if(card.prices.usd !== undefined){\n          tPrice += parseFloat(card.prices.usd) * card.quantity;\n        }\n        \n        tQuantity += parseInt(card.quantity);\n      });\n      info.push({\n        text: 'Total price: ',\n        number: '$' + tPrice.toLocaleString() + ' USD'\n      });\n      info.push({\n        text: 'Number of cards: ',\n        number: tQuantity.toLocaleString()\n      });\n      return info;\n    }\n  }\n\n  render() {\n    return(\n      <div className=\"listInfoPanel\">\n        {\n          this.getTotals().map((info, index) => {\n            return (\n              <div key={'info' + index}>\n                <h3>{info.text}</h3>\n                <p>{info.number}</p>\n              </div>\n            )\n          })\n        }\n      </div>\n    );\n  }\n};\n\nexport default ListInfo;","import React from 'react';\n\nclass ConfirmationButton extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isConfirming: false,\n    }\n  }\n  toggleIsConfirming = () => {\n    this.setState({\n      isConfirming: !this.state.isConfirming\n    });\n  }\n\n  confirmAction = () => {\n    this.props.confirmAction();\n    this.toggleIsConfirming();\n  }\n\n  render() {\n    return(\n      <div className={`clearBoughtButton ${this.state.isConfirming ? 'clearBoughtConfirming' : ''}`}>\n        {\n          this.state.isConfirming \n            ? <>\n                <p>{this.props.confirmationMessage}</p>\n                <button onClick={this.confirmAction} className={`confirmClearButton ${this.state.isConfirming ? 'show' : ''}`}><i className=\"fas fa-check-circle\" aria-label=\"Confirm clearing bought cards.\"></i></button>\n                <button onClick={this.toggleIsConfirming}><i className=\"fas fa-times-circle\" aria-label=\"Cancel clearing bought cards.\"></i></button>\n              </>\n            : <button onClick={this.toggleIsConfirming}>{this.props.action}</button>\n        }\n      </div>\n    );\n  }\n};\n\nexport default ConfirmationButton;","//Import required modules\nimport React from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport axios from 'axios';\n\n//Import Components\nimport Card from './Card.js';\nimport ErrorMessage from './ErrorMessage.js';\nimport ListInfo from './ListInfo.js';\nimport ConfirmationButton from './ConfirmatioButton.js';\n\nclass List extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      cards:[],\n      possibleCards: [],\n      newCard: '',\n      newCardQuantity: 1,\n      isShowingNewCardForm: false,\n      gettingCardDetails: false,\n      showApiError: false,\n      errorMessage: '',\n      isShowingListInfo: false,\n      updatingPrices: false\n    }\n    this.textInput = React.createRef();\n  }\n\n  //Focus code found from\n  //https://stackoverflow.com/questions/43145549/how-react-programmatically-focus-input\n  focusOnCardInput = () => {\n    this.textInput.current.focus();\n  }\n\n  componentDidMount() {\n    const userRef = firebase.database().ref(this.props.account);\n    userRef.on('value', (account) => {\n      const cardArray = account.val().cards;\n      if(cardArray !== undefined){\n        this.setState({\n          cards: cardArray\n        })\n      }else{\n        this.setState({\n          cards: []\n        })\n      }\n    });\n  }\n\n  queryNewCard = (event) => {\n    event.preventDefault();\n    if(this.state.newCard !== ''){    \n      this.setState({\n        gettingCardDetails: true\n      });\n      //Inital call to find the card\n      axios({\n        method: 'GET',\n        url: 'https://api.scryfall.com/cards/named',\n        dataResponse: 'json',\n        params: {\n          fuzzy:this.state.newCard,\n        },\n        timeout: 10000,\n      }).then( (result) => {\n        //Make another call to get all the printings of the card\n        axios({\n          method: 'GET',\n          url: result.data.prints_search_uri,\n          dataResponse: 'json',\n        }).then( (cardSets) => {\n          //Throw it into a variable\n          const arrayOfSets = cardSets.data.data;\n\n          //Push it into an array, and make sure there aren't any duplicates\n          const printings = [];\n          arrayOfSets.forEach((card) => {\n            if(!printings.includes(card.set)){\n              printings.push(card.set);\n            }\n          });\n          //Create the card object to throw at firebase\n          const newCard = {\n            name: result.data.name,\n            quantity: this.state.newCardQuantity,\n            rarity: result.data.rarity,\n            identity: result.data.color_identity,\n            sets: printings,\n            latestSet: result.data.set,\n            prices: result.data.prices,\n            hasFoil: result.data.foil,\n            imgUrl: result.data.image_uris.small,\n            bought: false,\n            lastPriceCheck: new Date().toDateString()\n          }\n          //If the sets or identity are 0 (if the api doesn't have them or they're colorless), create a dummy array so firebase doesn't delete it\n          if(newCard.sets.length === 0){\n            newCard.sets = ['No recorded sets.']\n          }\n          if(newCard.identity.length === 0) {\n            newCard.identity = ['Colorless']\n          }\n          //Pass the data to the function\n          this.addNewCard(newCard);\n          //Show the form for user submition once again\n          this.setState({\n            gettingCardDetails: false\n          });\n          this.focusOnCardInput();\n        }).catch( (error) => {\n          this.handleError(error);\n        });\n      }).catch( (error) => {\n        //General card is not found!\n        this.handleError(error);\n      });\n    }else{\n      //SCREAM AT THE USER\n    }\n  }\n  queryCardSuggestions = () => {\n    if(this.state.newCard !== ''){\n      axios({\n        method: 'GET',\n        url: 'https://api.scryfall.com/cards/autocomplete',\n        dataResponse: 'json',\n        params: {\n          q:this.state.newCard,\n        }\n      }).then( (result) => {\n        if(result.data.data.length > 0){\n          var limitedSuggestions = result.data.data.slice(0, 10);\n          this.setState({\n            possibleCards: limitedSuggestions\n          })\n        }else{\n          this.setState({\n            possibleCards: []\n          })\n        }\n        \n      }).catch( (error) => {\n        this.handleError(error);\n      });\n    }else{\n      this.setState({\n        possibleCards: []\n      })\n    }\n  }\n  takeCardSuggestion = (event) => {\n    const suggestion = event.target.value;\n    this.setState({\n      newCard: suggestion,\n      possibleCards: []\n    })\n  }\n  //IF statements from axios docs\n  handleError = (error) => {\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      // that falls out of the range of 2xx\n      this.showTheUserAnError(error.response.data.details);\n    } else if (error.request) {\n      // The request was made but no response was received\n      // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n      // http.ClientRequest in node.js\n      console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.log('Error', error.message);\n      this.showTheUserAnError(error.message);\n    }\n  }\n  showTheUserAnError = (messageToShow) => {\n    this.setState({\n      showApiError: true,\n      errorMessage: messageToShow\n    });\n  }\n  hideError = () => {\n    this.setState({\n      showApiError: false,\n      errorMessage: '',\n      gettingCardDetails: false\n    });\n    this.focusOnCardInput();\n  }\n\n  addNewCard = (card) => {\n    const userCardsRef = firebase.database().ref(`${this.props.account}/cards`);\n    userCardsRef.once('value', (data) => {\n      //If there isn't an array, give it a new array\n      //If there is one, spread it and add the new card\n      let newCardArray;\n      if(data.val() === null){\n        newCardArray = [card];\n      }else{\n        newCardArray = [...data.val(), card];\n      }\n      userCardsRef.set(newCardArray);\n    });\n    this.setState({\n      newCard: '',\n      possibleCards: [],\n      newCardQuantity: 1\n    });\n  }\n\n  updateCardToBought = (index) => {\n    const cardsRef = firebase.database().ref(this.props.account).child(`cards/${index}`);\n    cardsRef.once('value', (data) => {\n      const currentData = data.val();\n      cardsRef.update({\n        bought: !currentData.bought\n      });\n    });\n  }\n\n  \n\n  queryCardPrices = () => {\n    this.setState({\n      updatingPrices: true\n    })\n    const priceUpdates = [];\n    this.state.cards.forEach( (card) => {\n      const todaysDate = new Date();\n      if(card.lastPriceCheck !== todaysDate.toDateString()){\n        priceUpdates.push(\n          axios({\n            method: 'GET',\n            url: 'https://api.scryfall.com/cards/named',\n            dataResponse: 'json',\n            params: {\n              exact: card.name,\n            },\n            timeout: 1000,\n          })\n        );\n      }else{\n        //An empty promise\n        const myPromise = new Promise( (fulfill, reject) => {\n          // here we say what will be returned from the promise if it is fulfilled\n          fulfill('successful!')\n          // here we say what will be returned from the promise if it is rejected\n          reject('not successful!')\n        })\n        priceUpdates.push(\n          myPromise\n        )\n      }\n    });\n    axios\n      .all(priceUpdates)\n      .then(\n        axios.spread(\n          (...results) => {\n            this.updateCardPrices(results);\n          }\n        )\n      );\n  }\n  updateCardPrices = (newCardData) => {\n    newCardData.forEach((card, index) => {\n      if(card.data != null){\n        const newPrice = card.data.prices;\n        const cardsRef = firebase.database().ref(this.props.account).child(`cards/${index}`);\n        cardsRef.once('value', (data) => {\n          cardsRef.update({\n            prices: newPrice,\n            lastPriceCheck: new Date().toDateString()\n          })\n        });\n      }\n    });\n    this.setState({\n      updatingPrices: false\n    })\n  }\n\n  removeBoughtCards = () => {\n    const cardsRef = firebase.database().ref(this.props.account).child(`cards`);\n    const filteredCards = this.state.cards.filter((card) => {\n      return !card.bought\n    });\n    cardsRef.set(filteredCards);\n  }\n\n  removeAllCards = () => {\n    const cardsRef = firebase.database().ref(this.props.account).child(`cards`);\n    cardsRef.set([]);\n  }\n\n  toggleIsShowingNewCardForm = () => {\n    this.setState({\n      isShowingNewCardForm: !this.state.isShowingNewCardForm\n    });\n    this.focusOnCardInput();\n  }\n  toggleIsShowingListInfo = () => {\n    this.setState({\n      isShowingListInfo: !this.state.isShowingListInfo\n    });\n  }\n\n  \n\n  render() {\n    return(\n      <div className=\"innerWrapper\">\n        <h3>Hi, {this.props.username}! Here is your list:</h3>\n\n        <button className=\"logoutButton\" onClick={this.props.logoutCallback}>Log Out</button>\n\n        {/* Start of New Card Div */}\n        <div className={`newCardMenuButton ${this.state.isShowingNewCardForm ? 'show' : ''}`}>\n          <button onClick={this.toggleIsShowingNewCardForm}><i className='fas fa-times' aria-label=\"\"></i></button>\n        </div>\n        <div className={`newCardDiv ${this.state.isShowingNewCardForm ? 'show' : ''}`}>  \n        \t{\n            //Is the api call being made?\n            this.state.gettingCardDetails\n              //Is there an API error?\n        \t    ? this.state.showApiError\n                  ? <ErrorMessage errorText={this.state.errorMessage} onEnd={this.hideError} />\n                  : <p>Fetching card data</p>\n        \t    : <form onSubmit={this.queryNewCard} className=\"newCardForm\">\n        \t        <label htmlFor=\"newCardName\">Card name:</label>\n        \t        <input type=\"text\" id=\"newCardName\" \n        \t          value={this.state.newCard} \n                    onChange={(e) => { this.setState({newCard:e.target.value}); this.queryCardSuggestions(); }} \n                    ref={this.textInput}\n        \t        />\n                  <span></span>\n                  {\n                    this.state.possibleCards.map((pCard, index) => {\n                      return <button value={pCard} onClick={this.takeCardSuggestion} type=\"button\" key={pCard+index} className=\"cardSuggestion\" style={{top: `${86 + 37*index}px`}} >{pCard}</button>\n                    })\n                  }\n        \t        <label htmlFor=\"newCardQuantity\">How many:</label>\n        \t        <input type=\"number\" id=\"newCardQuantity\" \n        \t          value={this.state.newCardQuantity} \n        \t          onChange={(e) => this.setState({newCardQuantity:e.target.value})}\n        \t          min=\"1\" max=\"1337\"  \n        \t        />\n                  <span></span>\n        \t        <button>Add Card</button>\n        \t      </form>\n        \t}\n        </div> {/* End of New Card Div */}\n\n\n\n        {/* Start of Info/Summary Panel */}\n        <div className={`infoPanelButton ${this.state.isShowingListInfo ? 'show' : ''} ${this.state.isShowingNewCardForm ? 'shift' : ''}`}>\n          <button onClick={this.toggleIsShowingListInfo}><i className=\"fas fa-receipt\" aria-label=\"\"></i></button>\n        </div>\n        <div className={`infoPanel ${this.state.isShowingListInfo ? 'show' : ''}`}>\n          <ListInfo cards={this.state.cards}  />\n          <button className=\"updatePricesButton\" onClick={this.queryCardPrices} disabled={this.state.updatingPrices}>\n            <i className={`fas fa-sync-alt ${this.state.updatingPrices ? 'updating' : ''}`} aria-label=\"Update card prices.\"></i>\n          </button>\n          <ConfirmationButton action=\"Clear Bought\" confirmationMessage=\"Clear bought cards?\" confirmAction={this.removeBoughtCards} />\n          <ConfirmationButton action=\"Clear All\" confirmationMessage=\"Clear all cards?\" confirmAction={this.removeAllCards} />\n        </div> {/* End of Info/Summary Panel */}\n\n\n       \n\n\n        {/* Start of Card List */}\n        <ul className=\"cardList\">\n          {\n            this.state.cards !== undefined && this.state.cards.length > 0\n              ? this.state.cards.map((item, index) => {\n                return(\n                  <Card key={index} checkOff={() => this.updateCardToBought(index)} card={item}/>\n                )\n              })\n              : <li className=\"placeholderCard\">Add cards by pressing the + icon!</li>\n          }\n        </ul> {/* End of Card List */}\n        \n      </div> /* End of Inner Wrapper */\n    );\n  }\n};\n\nexport default List;","import React from 'react';\n\nimport firebase from './firebase.js';\nimport UserForm from './UserForm.js';\n\nimport List from \"./List.js\";\nimport ErrorMessage from './ErrorMessage.js';\n\nimport './App.css';\n\nimport logo from './assets/logo.svg'\nimport './fonts/keyrune.ttf';\n\n\nconst localFirebaseRef = 'user-ref';\nconst localUsernameRef = 'user-name';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      userIsLoggedIn: false,\n      isSigningUp: false,\n      talkingToFirebase: false,\n      userRef: '',\n      username: '',\n      showError: false,\n      errorMessage: ''\n    }\n  }\n  componentDidMount() {\n    //Check if the user has a localstorage for thing\n    const localUserRef = localStorage.getItem(localFirebaseRef);\n    const localUsername = localStorage.getItem(localUsernameRef);\n    if(localUserRef !== null) {\n      this.setState({\n        userIsLoggedIn: true,\n        userRef: localUserRef,\n        username: localUsername ? localUsername : ''\n      })\n    }\n  }\n\n  showTheUserAnError = (messageToShow) => {\n    this.setState({\n      showError: true,\n      errorMessage: messageToShow\n    });\n  }\n\n  attemptLogin = (usernameToLoginWith) => {\n    this.setState({\n      talkingToFirebase: true\n    });\n    const dbRef = firebase.database().ref();\n    dbRef.once('value', (db) => {\n      const userbase = db.val();\n      for(let index in userbase){\n        if(usernameToLoginWith === userbase[index].username){\n          this.userHasLoggedIn(index, usernameToLoginWith);\n          return;\n        }\n      }\n      //The account doesn't exist\n      this.loginError(usernameToLoginWith);\n      this.setState({\n        talkingToFirebase: false\n      });\n    })\n  }\n\n  userHasLoggedIn = (userReference, loggedInUsername) => {\n    this.setState({\n      userRef: userReference,\n      userIsLoggedIn: true,\n      username: loggedInUsername,\n      talkingToFirebase: false\n    });\n    localStorage.setItem(localFirebaseRef, userReference);\n    localStorage.setItem(localUsernameRef, loggedInUsername);\n  }\n\n  loginError = (usernameThatFailed) => {\n    this.showTheUserAnError(usernameThatFailed + \" is not registered!\")\n  }\n\n  attemptSignup = (usernameToSignupWith) => {\n    this.setState({\n      talkingToFirebase: true\n    });\n    const dbRef = firebase.database().ref();\n    dbRef.once('value', (db) => {\n      const userbase = db.val();\n      for(let index in userbase){\n        if(usernameToSignupWith === userbase[index].username){\n          //The account already exists\n          this.signupError(usernameToSignupWith);\n          this.setState({\n            talkingToFirebase: false\n          });\n          return;\n        }\n      }\n      this.signUserUp(usernameToSignupWith);\n    })\n  }\n\n  signupError = (takenUsername) => {\n    // alert(\"Oopsy doopsy thewe was a fucky wucky uwu! \" + takenUsername + \" is already taken owo!\");\n    this.showTheUserAnError(takenUsername + \" is already taken!\");\n  }\n\n  signUserUp = (usernameToSignupWith) => {\n    const newUser = {\n      username: usernameToSignupWith,\n      // This is only to show object structure (firebase won't recognize it as a thing)\n      // cards: [] \n    }\n    console.log(newUser);\n    firebase.database().ref().push(newUser);\n    //BIG POSITIVE FEEDBACK\n    // alert(\"Signup Success!\");\n    this.showTheUserAnError(\"Signup was Successful!\");\n    this.setState({\n      talkingToFirebase: false\n    });\n  }\n\n  logUserOut = () => {\n    localStorage.removeItem(localFirebaseRef);\n    this.setState({\n      userRef: '',\n      userIsLoggedIn: false\n    });\n  }\n\n\n  swapIsSigningUp = () => {\n    this.setState({\n      isSigningUp: !this.state.isSigningUp\n    });\n  }\n\n\n  //Call back functions from the ErrorMessage component!\n  showError = (message) => {\n    this.showTheUserAnError(message);\n  }\n  hideError = () => {\n    this.setState({\n      showError: false\n    });\n  }\n\n\n  render() {\n    return(\n      <div>\n        <div className=\"wrapper\">\n          <header>\n            <div className=\"innerWrapper\">\n              <img className=\"logo\" src={logo} alt=\"A wax seal.\" />\n              <h1>Dear Magic</h1>\n              <h2>A personal buylist</h2>\n            </div>\n          </header>\n\n          <main>\n            { \n              this.state.showError\n                ? <ErrorMessage errorText={this.state.errorMessage} onEnd={this.hideError} />\n                : null\n            }\n            { \n              this.state.userIsLoggedIn\n                ? <List account={this.state.userRef} username={this.state.username} logoutCallback={this.logUserOut} />\n                : this.state.isSigningUp\n                    ? <UserForm \n                        action=\"Signup\" \n                        allowAction={this.state.talkingToFirebase} \n                        callback={this.attemptSignup} \n                        showError={this.showError} \n                      >\n                        <button type=\"button\" onClick={this.swapIsSigningUp} className=\"userActionSwapButton\">\n                          Already a user?\n                        </button>\n                      </UserForm>\n                    : <UserForm \n                        action=\"Login\" \n                        callback={this.attemptLogin}  \n                        showError={this.showError}\n                        allowAction={this.state.talkingToFirebase} \n                      >\n                        <button type=\"button\" onClick={this.swapIsSigningUp} className=\"userActionSwapButton\">\n                          Need an account?\n                        </button>\n                      </UserForm>\n            }\n          </main>\n\n        <footer>\n            <p>mikosramek © 2019</p>\n        </footer>\n        </div>\n      </div> /* End of App div */\n    );\n  }\n};\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}